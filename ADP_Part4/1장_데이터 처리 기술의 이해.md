# 1장. 데이터 처리 프로세스
<br/>

## 학습목표
    - ETL, ODS 구성, 데이터 웨어하우스를 이해한다
    - CDC, EAI에 대해 이해한다
    - 데이터 연계 및 통계 기법을 분류하고 각 용도를 이해한다
    - 데이터 통합 및 연계 기법과 빅데이터 처리 기법을 비교한다
    - 대용량의 비정형 데이터 처리방법에 대해 이해한다
<br/>

## 1절. ETL(Extraction, Transformation, Load)
### 1. ETL 개요
#### 가. ETL의 개념 및 특징
    - 다양한 데이터 원천으로부터 데이터를 추출 및 변환하여 운영 데이터 스토어(ODS), 데이터 웨어하우스, 데이터 마트 등에 데이터를 적재하는 작업의 핵심 구성요소
    - MPP(Massive Parallel Processing) 지원
    - Batch ETL, Real Time ETL로 구분
#### 나. ETL의 기능
|||
|:--:|:--|
|Extraction|하나 또는 그 이상의 데이터 원천들로부터 데이터 획득|
|Transformation|데이터 클렌징, 형식 변환, 표준화, 통합 또는 다수 애플리케이션에 내장된 비즈니스 룰 적용 등|
|Loading|변형 단계의 처리가 완료된 데이터를 특정 목표 시스템에 적재|
#### 다. ETL의 작업 단계
|||
|:--:|:--|
|Step0<br>interface|다양한 이기종 DBMS 및 스프레드 시트 등 데이터 원천으로부터 데이터를 획득하기 위한 인터페이스 메커니즘 구현|
|Step1<br>Staging ETL|수립된 일정에 따라 데이터원천으로부터 트랜잭션 데이터 획득 작업 수행 후, 획득된 데이터를 스테이징 테이블에 저장|
|Step2<br>Profiling ETL|스테이징 테이블에서 데이터 특성을 식별하고 품질을 측정|
|Step3<br>Cleansing ETL|다양한 규칙들을 활용해 프로파일링된 데이터의 보정 작업을 수행|
|Step4<br>Integration ETL|(이름, 값, 구조) 데이터 충돌을 해소하고, 클렌징된 데이터를 통합|
|Step5<br>Demoralizing ETL|운영 보고서 생성 및 데이터 웨어하우스 또는 데이터 마트에 대한 데이터 적재를 위해 데이터 비정규화 수행|
<br/>

### 2. ODS 구성
#### 가. ODS의 개념 및 특징
    - 데이터 Cleansing, 데이터 Integration 작업 포함
    - ODS는 Real Time 또는 Near Real Time 트랜잭션 데이터 혹은 개별성을 지닌 하위 수준 데이터들을 저장하기 위해 설계
#### 나. ODS의 구성 단계
##### 1) 인터페이스 단계
##### 2) 데이터 스테이징 단계
##### 3) 데이터 프로파일링 단계
##### 4) 데이터 클렌징 단계
##### 5) 데이터 인테그레이션 단계
##### 6) 익스포트 단계
<br/>

### 3. 데이터웨어하우스
#### 가. 데이터 웨어하우스란?
#### 나. 데이터 웨어하우스의 특징
|||
|:--:|:--|
|주제 중심성|데이터 웨어하우스의 데이터는 실 업무 상황의 특정 이벤트나 업무 항목을 기준으로 구조화되므로, 최종사용자도 이해하기 쉬운 형태를 지닌다.|
|영속성, 비휘발성|데이터 웨어하우스의 데이터는 최초 저장 이후에는 읽기 전용의 속성을 가지며, 삭제되지 않는다.|
|통합성|데이터 웨어하우스의 데이터는 기관, 조직이 보유한 대부분의 운영 시스템들에 의해 생성된 데이터들의 통합본이다|
|시계열성|운영 시스템들은 최신 데이터를 보유하고 있지만, 데이터 웨어하우스는 시간 순에 의한 이력 데이터를 보유한다|
<br/>

#### 다. 데이터 웨어하우스의 테이블 모델링 기법
##### 1) 스타 스키마
    - 데이터 웨어하우스의 스키마 중 가장 단순
    - Fact Table은 보통 제 3정규형으로 모델링
    - Dimensional Table은 제 2정규형으로 모델링
|||
|:--:|:--|
|장점|스노우 플레이크 스키마에 비해 복잡도가 낮아서 이해하기 쉽고, 쿼리 작성이 용이하고 조인 테이블 개수가 적다|
|단점|차원 테이블들의 비정규화에 따른 데이터 중복으로 인해 테이블로 데이터를 적재할 때 상대적으로 많은 시간이 소요된다|
##### 2) 스노우 플레이크 스키마
    - 스타 스키마의 차원 테이블을 제 3정규형으로 정규화한 형태
|||
|:--:|:--|
|장점|데이터의 중복이 제거돼 데이터 적재 시 시간이 단축된다|
|단점|스타 스키마에 비해 스키마 구조의 복잡성이 증가하므로 조인 테이블의 개수가 증가하고 쿼리 작성의 난이도가 상승된다|
<br/>

#### 라. ODS와 DW의 비교
|구분|ODS(Operational Data Store|DW(Data Warehouse|
|:--:|:--:|:--:|
|데이터의 내용|현재 또는 비교적 최신 데이터|오래된 상세 데이터, 현재 상세 데이터, 등|
|데이터의 양|비교적 소규모 데이터|대규모 데이터|
|데이터의 갱신|지속적으로 갱신되어 현재의 DB 상태를 반영(Volatile)|데이터 축적 보관(nonvolatile)|
|기술적 요소|데이터베이스 처리의 모든 기능을 사용하도록 설계|단순한 적재와 접근 중심|
<br/>

## 2절. CDC(Change Data Capture)
### 1. CDC의 개념 및 특성
    - 데이터베이스 내 데이터에 대한 변경을 식별해 필요한 후속처리를 자동화하는 기술 또는 설계 기법이자 구조
### 2. CDC 구현 기법
#### 가. Time Stamp on Rows
#### 나. Version Numbers on Rows
#### 다. Status on Rows
#### 라. TIme/Version/Status on Rows
#### 마. Triggers on Tables
#### 바. Event Programming
#### 사. Log Scanner on Database
    - 장점 : 데이터베이스와 사용 애플리케이션에 대한 영향도 최소화, 변경 식별 지연시간 최소화, 트랜잭션 무결성에 대한 영향도 최소화, 데이터베이스 스키마 변경 불필요
### 3. CDC 구현 방식
|||
|:--:|:--|
|푸시 방식|데이터 원천에서 변경을 식별하고 대상 시스템에 변경 데이터를 적재해 주는 방식|
|풀 방식|대상 시스템에서 데이터 원천을 정기적으로 살펴보고, 필요 시 데이터를 다운로드 하는 방식|
<br/>

## 3절. EAI(Enterprise Application Integration)
### 1. EAI의 개념 및 특징
    - ETL은 배치 프로세스 중심이며, EAI는 실시간 혹은 근접 실시간 처리 중심이다
### 2. 데이터 연계 방식
#### 가. 기존의 데이터 연계 방식 : Point to Point
    - 기준 마스터 데이터의 통합과 표준화가 불가능
    - 복잡한 데이터 연계 경로 발생
    - 유지 보수성이 극도로 저하
#### 나. EAI의 데이터 연계 방식 : Hub and Spoke
    - 허브 역할을 하는 브로커를 둔다
    - ETL/CDC는 운영 데이터와 분석을 위한 데이터베이스가 구분
    - EAI는 다수 정보 시스템의 데이터를 중앙의 Hub가 연계하고 통합하는 기법
    - 각 연결의 대상이 되는 노드들은 Spoke에 해당
### 3. EAI 구성요소
    - 어댑터 : 각 정보 시스템과 EAI 허브간의 연결성을 확보
    - 버스 : 어댑터를 매개로 연결된 각 정보 시스템들 간의 데이터 연동 경로
    - 브로커 : 데이터 연동 규칙을 통제
    - 트랜스포머 : 데이터 형식 변환을 담당
### 4. EAI 구현 유형
#### 가. Mediation(intra-communication)
    - Publish / subscribe Model
#### 나. Federation(inter-communication)
    - Request / reply Model
### 5. EAI 활용 효과
|구분|EAI(Enterprise Application Integration|ESB(Enterprise Service Bus)|
|:--:|:--:|:--:|
|기능|미들웨어(Hub)를 이용하여 비즈니스 로직을 중심으로 Application을 통합, 연계|미들웨어(Bus)를 이용하여 서비스 중심으로 시스템을 유기적으로 연계|
|통합관점|Application|Process|
|로직연동|개별 Application에서 수행|ESB에서 수행|
|아케텍처|단일 접점인 허브시스템을 이용한 중앙집중식 연결구조|버스(Bus) 형태의 느슨하고 유연한 연결구조|
### 6. EAI와 ESB의 비교
## 4절. 데이터 통합 및 연계 기법
### 1. 데이터 연계 및 통합 유형(동기화 기준)
## 5절. 대용량의 비정형 데이터 처리방법
### 1. 대용량 로그 데이터 수집
#### 가. 로그(log)
#### 나. 대용량 비정형 데이터 수집 시스템의 특징
### 2. 대규모 분산 병렬 처리
#### 가. 하둡(Hadoop)
#### 나. 하둡(Hadoop)의 특징
### 3. 데이터 연동
#### 가. 데이터 연동의 개요
#### 나. 스쿱(Sqoop)
### 4. 데용량 질의 기술
#### 가. 대용량 질의 기술의 개요
#### 나. SQL on 하둡 기술